define("detail:widget/map_panorama/panorama.js",function(t,n,o){function i(){try{if(!a)throw new Error("需要引入地图js")}catch(t){return console.log(t.message),!1}return!0}function s(t,n){var o={},i=new a.MercatorProjection;return o=n?i.pointToLngLat({x:t.lng,y:t.lat}):t,{lng:+o.lng||0,lat:+o.lat||0}}function e(t){return i()?this instanceof e?(this._opts={navigationControl:!1,linksControl:!1,indoorExitControl:!1},this._oBdPano=new a.Panorama(t),void this._oBdPano.setOptions(this._opts)):new e(t):!1}var a=a||window.BMap;e.prototype={constructor:e,getOrigin:function(){return this._oBdPano},init:function(t){return t?(this._oBdPano.hideMapLogo(),t.opts&&this.setOpts($.extend(this._opts,t.opts)),t.angle&&this.angleFix(t.angle),t.pid.length>0?this.setId(t.pid):t.iid.length>0?this.setId(t.iid,!0):t.position?this.setPosition(t.position,t.isMercator):void 0):this},setId:function(t,n){return t&&(n?this._oBdPano.setId(t,"inter"):this._oBdPano.setId(t)),this},setPosition:function(t,n){var o=s(t,n);return this._oBdPano.setPosition(new a.Point(o.lng,o.lat)),this},setOpts:function(t){return t&&this._oBdPano.setOptions(t),this},angleFix:function(t){t&&(null!=t.pitch&&null!=t.heading&&this._oBdPano.setPov({pitch:t.pitch,heading:t.heading}),null!=t.zoom&&this._oBdPano.setZoom(t.zoom))}},o.exports=e});