define("detail:widget/ui/change_goods_page/change_goods_page.js",function(e,o,n){n.exports=function(e,o){var n,s,a=$(e),i=$(o);n=a.filter(".show").attr("index"),s=a.length,i.on("click",function(){a.removeClass("show"),n=++n%s,a.eq(n).addClass("show")})}});
;define("detail:widget/ui/change_pic/change_pic.js",function(t,i,e){function n(){var t=705,i=500,e=$.browser.msie&&$.browser.version<9,n=e?"filter":"css3",r={},s={},a=function(t){"left"==t&&(s.angle-=90),"right"==t&&(s.angle+=90)},o=function(t){var i=Math.cos(t),e=Math.sin(t);return{M11:i,M12:-e,M21:e,M22:i}},c=function(){return{css3:function(){s.currentPicObj.css({transform:"rotate("+s.angle+"deg)","-ms-transform":"rotate("+s.angle+"deg)","-moz-transform":"rotate("+s.angle+"deg)","-webkit-transform":"rotate("+s.angle+"deg)","-o-transform":"rotate("+s.angle+"deg)"})},filter:function(){var t=s.angle*Math.PI/180,i=o(t),e="progid:DXImagetransform.Microsoft.Matrix(M11="+i.M11+",M12="+i.M12+",M21="+i.M21+",M22="+i.M22+",sizingMethod='auto expand')";s.currentPicObj.css({filter:e})}}},l=function(){s.currentPicObj.css({width:"500px",height:"auto"})},u=function(){return s.currentPicObj.position().top},f=function(t){return(s.imgWidth-t)/2},g=function(t,i,e,n){var r="auto"===i?"auto":i+"px",a="auto"===n?"auto":n+"px";s.currentPicObj.css({position:"relative",width:t+"px",height:r,top:e+"px",left:a})},p=function(t){var i=t.split("_"),e=i[0],n=i[1],r=void 0!==i[2]?i[2]:0;return{index:e,key:n,no:r}};return{resetPicPosition:function(){var t=Math.abs(s.angle)/90,e=s.imgWidth,n=s.imgHeight,r="auto",a=0,o=n,c=e;if(t%2==1){e>i?(l(),e=i,n="auto",c=s.currentPicObj.height(),o=i):(c=n,o=e),a=-u();var d=$.browser.msie&&8==$.browser.version;r=d?f(c):"auto"}g(e,n,a,r),h.setMaskPosition(c),h.setPicContainerHeight(o)},initGlobalContext:function(t){var i=t.index;if(!r[i]){var e=$("#j_container_"+i),n=e.find("img");r[i]={},r[i].$container=e,r[i].$smallPic=$(".j_wrap_"+i),r[i].$bigPic=n,r[i].endIndex=n.length-1,r[i].$minus=$("#j_minus_"+i),r[i].$plus=$("#j_plus_"+i),r[i].$mMask=$("#j_mask_minus_"+i),r[i].$pMask=$("#j_mask_plus_"+i),r[i].$cMask=$("#j_collapse_"+i),r[i].$show=$("#j_show_"+i)}s=r[i],s.currentIndex=t.no,s.$container.show()},setSmallPicStyle:function(){var t=s.$smallPic;s.hasOwnProperty("lastIndex")&&$(t[s.lastIndex]).removeClass("pic-wrap-clicked"),$(t[s.currentIndex]).addClass("pic-wrap-clicked")},showBigPicArea:function(){s.angle=0;var t=s.$bigPic[s.currentIndex];s.currentPicObj=$(t),s.imgWidth=s.currentPicObj.width(),s.imgHeight=s.currentPicObj.height(),s.currentPicObj.removeClass("hide"),s.hasOwnProperty("lastObj")&&(s.lastObj.addClass("hide"),s.lastObj.attr("style")&&s.lastObj.removeAttr("style")),s.lastObj=s.currentPicObj,s.lastIndex=s.currentIndex,this.setPicContainerHeight(s.imgHeight)},setPicContainerHeight:function(t){s.$show.css({height:t+"px"})},setMaskPosition:function(i){var e=i||s.imgWidth,n=(t-e/3)/2;s.$mMask.css({width:n+"px"}),s.$cMask.css({width:e/3+"px",left:n+"px"}),s.$pMask.css({width:n+"px"})},setMaskVisibility:function(){0==s.endIndex?(s.$mMask.hide(),s.$pMask.hide()):s.currentIndex<=0?(s.$mMask.hide(),s.$pMask.show()):s.currentIndex>=s.endIndex?(s.$pMask.hide(),s.$mMask.show()):(s.$mMask.show(),s.$pMask.show())},setArrowClickEvent:function(t){"minus"==t&&s.currentIndex--,"plus"===t&&s.currentIndex++,h.setSmallPicStyle(),h.showBigPicArea(),h.setMaskVisibility(),h.setMaskPosition()},startTransform:function(t){a(t);var i=c();i[n](),this.resetPicPosition()},lookOriginalPic:function(t){var i=$(s.$smallPic[s.currentIndex]),e=i.attr("data-src");t.attr("href",e)},dispose:function(t){r[t].currentPicObj.addClass("hide"),r[t].$container.hide(),$(r[t].$smallPic[r[t].currentIndex]).removeClass("pic-wrap-clicked"),delete r[t]},deleteCache:function(){for(var t in r)r.hasOwnProperty(t)&&delete r[t]},eventHandler:function(){$("#j-comment-list").on("click",function(t){var i=$(t.target),e=i.attr("data-item");if(e){var n=p(e);"pic"!=n.key&&(s=r[n.index]),d[n.key](i,n)}})}}}var r=function(t,i){var e=t.closest(".pic-wrap");return e.hasClass("pic-wrap-clicked")?void o(t,i):(h.initGlobalContext(i),h.setSmallPicStyle(),h.showBigPicArea(),h.setMaskVisibility(),void h.setMaskPosition())},s=function(){h.setArrowClickEvent("plus")},a=function(){h.setArrowClickEvent("minus")},o=function(t,i){var e=i.index;h.dispose(e)},c=function(){h.startTransform("left")},l=function(){h.startTransform("right")},u=function(t){h.lookOriginalPic(t)},d={pic:r,plus:s,minus:a,col:o,lRotate:c,rRotate:l,original:u},h=new n;e.exports={init:h.eventHandler,deleteCache:h.deleteCache}});